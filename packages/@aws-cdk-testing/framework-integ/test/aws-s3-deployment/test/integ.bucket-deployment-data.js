"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const aws_s3_1 = require("aws-cdk-lib/aws-s3");
const aws_cdk_lib_1 = require("aws-cdk-lib");
const aws_s3_deployment_1 = require("aws-cdk-lib/aws-s3-deployment");
const app = new aws_cdk_lib_1.App();
const stack = new aws_cdk_lib_1.Stack(app, 'TestBucketDeploymentContent');
const bucket = new aws_s3_1.Bucket(stack, 'Bucket');
const file1 = aws_s3_deployment_1.Source.data('file1.txt', 'boom');
const file2 = aws_s3_deployment_1.Source.data('path/to/file2.txt', `bam! ${bucket.bucketName}`);
const file3 = aws_s3_deployment_1.Source.jsonData('my/config.json', { website_url: bucket.bucketWebsiteUrl });
const deployment = new aws_s3_deployment_1.BucketDeployment(stack, 'DeployMeHere', {
    destinationBucket: bucket,
    sources: [file1, file2],
    destinationKeyPrefix: 'deploy/here/',
    retainOnDelete: false,
});
deployment.addSource(file3);
new aws_cdk_lib_1.CfnOutput(stack, 'BucketName', { value: bucket.bucketName });
app.synth();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW50ZWcuYnVja2V0LWRlcGxveW1lbnQtZGF0YS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImludGVnLmJ1Y2tldC1kZXBsb3ltZW50LWRhdGEudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSwrQ0FBNEM7QUFDNUMsNkNBQW9EO0FBQ3BELHFFQUF5RTtBQUV6RSxNQUFNLEdBQUcsR0FBRyxJQUFJLGlCQUFHLEVBQUUsQ0FBQztBQUN0QixNQUFNLEtBQUssR0FBRyxJQUFJLG1CQUFLLENBQUMsR0FBRyxFQUFFLDZCQUE2QixDQUFDLENBQUM7QUFDNUQsTUFBTSxNQUFNLEdBQUcsSUFBSSxlQUFNLENBQUMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0FBRTNDLE1BQU0sS0FBSyxHQUFHLDBCQUFNLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxNQUFNLENBQUMsQ0FBQztBQUMvQyxNQUFNLEtBQUssR0FBRywwQkFBTSxDQUFDLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxRQUFRLE1BQU0sQ0FBQyxVQUFVLEVBQUUsQ0FBQyxDQUFDO0FBQzVFLE1BQU0sS0FBSyxHQUFHLDBCQUFNLENBQUMsUUFBUSxDQUFDLGdCQUFnQixFQUFFLEVBQUUsV0FBVyxFQUFFLE1BQU0sQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDLENBQUM7QUFFMUYsTUFBTSxVQUFVLEdBQUcsSUFBSSxvQ0FBZ0IsQ0FBQyxLQUFLLEVBQUUsY0FBYyxFQUFFO0lBQzdELGlCQUFpQixFQUFFLE1BQU07SUFDekIsT0FBTyxFQUFFLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQztJQUN2QixvQkFBb0IsRUFBRSxjQUFjO0lBQ3BDLGNBQWMsRUFBRSxLQUFLO0NBQ3RCLENBQUMsQ0FBQztBQUNILFVBQVUsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7QUFFNUIsSUFBSSx1QkFBUyxDQUFDLEtBQUssRUFBRSxZQUFZLEVBQUUsRUFBRSxLQUFLLEVBQUUsTUFBTSxDQUFDLFVBQVUsRUFBRSxDQUFDLENBQUM7QUFFakUsR0FBRyxDQUFDLEtBQUssRUFBRSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQnVja2V0IH0gZnJvbSAnYXdzLWNkay1saWIvYXdzLXMzJztcbmltcG9ydCB7IEFwcCwgQ2ZuT3V0cHV0LCBTdGFjayB9IGZyb20gJ2F3cy1jZGstbGliJztcbmltcG9ydCB7IEJ1Y2tldERlcGxveW1lbnQsIFNvdXJjZSB9IGZyb20gJ2F3cy1jZGstbGliL2F3cy1zMy1kZXBsb3ltZW50JztcblxuY29uc3QgYXBwID0gbmV3IEFwcCgpO1xuY29uc3Qgc3RhY2sgPSBuZXcgU3RhY2soYXBwLCAnVGVzdEJ1Y2tldERlcGxveW1lbnRDb250ZW50Jyk7XG5jb25zdCBidWNrZXQgPSBuZXcgQnVja2V0KHN0YWNrLCAnQnVja2V0Jyk7XG5cbmNvbnN0IGZpbGUxID0gU291cmNlLmRhdGEoJ2ZpbGUxLnR4dCcsICdib29tJyk7XG5jb25zdCBmaWxlMiA9IFNvdXJjZS5kYXRhKCdwYXRoL3RvL2ZpbGUyLnR4dCcsIGBiYW0hICR7YnVja2V0LmJ1Y2tldE5hbWV9YCk7XG5jb25zdCBmaWxlMyA9IFNvdXJjZS5qc29uRGF0YSgnbXkvY29uZmlnLmpzb24nLCB7IHdlYnNpdGVfdXJsOiBidWNrZXQuYnVja2V0V2Vic2l0ZVVybCB9KTtcblxuY29uc3QgZGVwbG95bWVudCA9IG5ldyBCdWNrZXREZXBsb3ltZW50KHN0YWNrLCAnRGVwbG95TWVIZXJlJywge1xuICBkZXN0aW5hdGlvbkJ1Y2tldDogYnVja2V0LFxuICBzb3VyY2VzOiBbZmlsZTEsIGZpbGUyXSxcbiAgZGVzdGluYXRpb25LZXlQcmVmaXg6ICdkZXBsb3kvaGVyZS8nLFxuICByZXRhaW5PbkRlbGV0ZTogZmFsc2UsIC8vIGRlZmF1bHQgaXMgdHJ1ZSwgd2hpY2ggd2lsbCBibG9jayB0aGUgaW50ZWdyYXRpb24gdGVzdCBjbGVhbnVwXG59KTtcbmRlcGxveW1lbnQuYWRkU291cmNlKGZpbGUzKTtcblxubmV3IENmbk91dHB1dChzdGFjaywgJ0J1Y2tldE5hbWUnLCB7IHZhbHVlOiBidWNrZXQuYnVja2V0TmFtZSB9KTtcblxuYXBwLnN5bnRoKCk7XG4iXX0=